{"version":3,"sources":["Components/Button/Button.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Searchbar/Searchbar.js","Components/Button/Button.js","Components/ImageGalleryItem/ImageGalleryItem.js","helpers/request.js","Components/Modal/Modal.js","Components/ImageGallery/ImageGallery.js","App.js","index.js","Components/Searchbar/Searchbar.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","className","styles","SearchForm","onSubmit","this","props","handleSubmit","type","SearchFormbutton","SearchFormbuttonlabel","SearchForminput","name","autoComplete","autoFocus","placeholder","value","searchQuery","onChange","handleChange","Component","Button","onSomething","onClick","ImageGalleryItem","image","toggleModalWin","console","log","src","webformatURL","alt","ImageGalleryItemimage","largeImageURL","query","page","axios","get","process","then","result","data","hits","Modal","handleKeyDown","e","code","onClose","window","addEventListener","removeEventListener","Overlay","imageModal","ImageGallery","images","loader","error","showModal","setState","target","preventDefault","fetchImages","fetchImagesLoadMore","scrollHeight","document","documentElement","imagesApi","prevState","catch","finally","scrollTo","top","behavior","toggleModal","largeImage","toggleModalClose","map","key","id","length","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,aAAe,qC,2NCEZC,E,4MACnBC,MAAQ,G,uDAUN,OACE,4BAAQC,UAAWC,IAAOH,WACxB,0BAAME,UAAWC,IAAOC,WAAYC,SAAUC,KAAKC,MAAMC,cACvD,4BAAQC,KAAK,SAASP,UAAWC,IAAOO,kBACtC,0BAAMR,UAAWC,IAAOQ,uBAAxB,WAGF,2BACET,UAAWC,IAAOS,gBAClBC,KAAK,SACLJ,KAAK,OACLK,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,MAAOX,KAAKC,MAAMW,YAClBC,SAAUb,KAAKC,MAAMa,qB,GA1BMC,a,iBCQxBC,EARA,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,YAChB,OACE,4BAAQrB,UAAWC,IAAOmB,OAAQE,QAASD,GAA3C,c,gBCcWE,EAhBU,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,eAEjC,OADAC,QAAQC,IAAIH,GAEV,wBAAIxB,UAAWC,IAAOsB,kBACpB,yBACEK,IAAKJ,EAAMK,aACXC,IAAKN,EAAMK,aACX7B,UAAWC,IAAO8B,sBAClBT,QAAS,WACPG,EAAeD,EAAMQ,oB,iBCKhB,EAPc,SAACC,GAAqB,IAAdC,EAAa,uDAAN,EAC1C,OAAOC,IACJC,IADI,qCAE2BH,EAF3B,iBAEyCC,EAFzC,gBAEqDG,qCAFrD,yDAIJC,MAAK,SAACC,GAAD,OAAYA,EAAOC,KAAKC,S,yCCZbC,E,4MAOnBC,cAAgB,SAACC,GACA,WAAXA,EAAEC,MACJ,EAAKxC,MAAMyC,W,kEAPbC,OAAOC,iBAAiB,UAAW5C,KAAKuC,iB,2CAGxCI,OAAOE,oBAAoB,UAAW7C,KAAKuC,iB,+BAQ3C,OACE,yBAAK3C,UAAWC,IAAOiD,QAAS5B,QAASlB,KAAKC,MAAMyC,QAAShB,IAAI,IAC/D,yBAAK9B,UAAWC,IAAOyC,OACrB,yBAAKd,IAAKxB,KAAKC,MAAM8C,mB,GAhBIhC,aCmIpBiC,E,4MA3HbrD,MAAQ,CACNsD,OAAQ,GACRC,QAAQ,EACRC,OAAO,EACPvC,YAAa,GACbkB,KAAM,EACNsB,WAAW,EACXL,WAAY,I,EAGdjC,aAAe,SAAC0B,GACd,EAAKa,SAAS,CAAEzC,YAAa4B,EAAEc,OAAO3C,S,EAExCT,aAAe,SAACsC,GACdA,EAAEe,iBACF,EAAKC,YAAY,EAAK7D,MAAMiB,c,EAa9B6C,oBAAsB,WACpB,IAAIC,EAAe,EAEjBA,EADsB,IAApB,EAAK/D,MAAMmC,KACE,EAEA6B,SAASC,gBAAgBF,aAAe,IAEzDG,EACwB,EAAKlE,MAAMiB,YAAa,EAAKjB,MAAMmC,MACxDI,MAAK,SAACe,GAAD,OACJ,EAAKI,UAAS,SAACS,GAAD,MAAgB,CAC5Bb,OAAO,GAAD,mBAAMa,EAAUb,QAAhB,YAA2BA,IACjCC,QAAQ,EACRpB,KAAMgC,EAAUhC,KAAO,SAG1BiC,OAAM,SAACZ,GAAD,OAAW,EAAKE,SAAS,CAAEF,aACjCa,SAAQ,kBAAM,EAAKX,SAAS,CAAEH,QAAQ,OACzCP,OAAOsB,SAAS,CACdC,IAAKR,EACLS,SAAU,Y,EAMdX,YAAc,WACZ,IAAIE,EAAe,EAEjBA,EADsB,IAApB,EAAK/D,MAAMmC,KACE,EAEA6B,SAASC,gBAAgBF,aAAe,IAEzDG,EACwB,EAAKlE,MAAMiB,YAAa,EAAKjB,MAAMmC,MACxDI,MAAK,SAACe,GAAD,OAAY,EAAKI,SAAS,CAAEJ,SAAQnB,KAAM,OAC/CiC,OAAM,SAACZ,GAAD,OAAW,EAAKE,SAAS,CAAEF,aACjCa,SAAQ,kBAAM,EAAKX,SAAS,CAAEH,QAAQ,OACzCP,OAAOsB,SAAS,CACdC,IAAKR,EACLS,SAAU,Y,EAIdC,YAAc,SAACC,GACb,EAAKhB,UAAS,SAAC1D,GAAD,MAAY,CACxByD,WAAYzD,EAAMyD,UAClBL,WAAYsB,O,EAIhBC,iBAAmB,WACjB,EAAKjB,UAAS,SAAC1D,GAAD,MAAY,CACxByD,WAAYzD,EAAMyD,UAClBL,WAAY,Q,uDAGN,IAAD,SAQH/C,KAAKL,MANPsD,EAFK,EAELA,OAEAE,GAJK,EAGLD,OAHK,EAILC,OACAC,EALK,EAKLA,UACAL,EANK,EAMLA,WACAnC,EAPK,EAOLA,YAEF,OAAIuC,EACK,6EAGP,oCACE,kBAAC,EAAD,CACErC,aAAcd,KAAKc,aACnBZ,aAAcF,KAAKE,aACnBU,YAAaA,IAEf,wBAAIhB,UAAWC,IAAOmD,cACnBC,EAAOsB,KAAI,SAACnD,GAAD,OACV,kBAAC,EAAD,CACEA,MAAOA,EACPC,eAAgB,EAAK+C,YACrBI,IAAKpD,EAAMqD,WAKdxB,EAAOyB,QAAU,kBAAC,EAAD,CAAQzD,YAAajB,KAAKyD,sBAC7CL,GACC,kBAAC,EAAD,CAAOL,WAAYA,EAAYL,QAAS1C,KAAKsE,wB,GArH5BvD,aCGZ4D,MARf,WACE,OACE,yBAAK/E,UAAU,OACb,kBAAC,EAAD,QCHNgF,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFnB,SAASoB,eAAe,U,kBCR1BvF,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,mCAAmC,mBAAmB,sC,kBCAtSD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,kBCAxGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,wB","file":"static/js/main.f506a708.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3Ts69\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1PIls\"};","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {};\r\n  // handleChange = (e) => {\r\n  //   this.setState({ inputValue: e.target.value });\r\n  // };\r\n  // handleSubmit = (e) => {\r\n  //   e.preventDefault();\r\n  //   this.props.fetchImages(this.state.inputValue);\r\n  //   this.props.onSubmit(this.state.inputValue);\r\n  // };\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.props.handleSubmit}>\r\n          <button type=\"submit\" className={styles.SearchFormbutton}>\r\n            <span className={styles.SearchFormbuttonlabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchForminput}\r\n            name=\"search\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.props.searchQuery}\r\n            onChange={this.props.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ onSomething }) => {\r\n  return (\r\n    <button className={styles.Button} onClick={onSomething}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ image, toggleModalWin }) => {\r\n  console.log(image);\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={image.webformatURL}\r\n        alt={image.webformatURL}\r\n        className={styles.ImageGalleryItemimage}\r\n        onClick={() => {\r\n          toggleModalWin(image.largeImageURL);\r\n        }}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","// import axios from \"axios\";\r\n// export const withCredentials = (url) => {\r\n//   return `${url}api/?key=${process.env.REACT_APP_CLIENT_API_KEY}`;\r\n// };\r\n// export const request = async (url, query, page = 0) => {\r\n//   const result = await axios(url, query, page);\r\n//   return result.data;\r\n// };\r\n\r\nimport axios from \"axios\";\r\nconst fetchImagesWithQuery = (query, page = 1) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${process.env.REACT_APP_CLIENT_API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((result) => result.data.hits);\r\n};\r\nexport default {\r\n  fetchImagesWithQuery,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  componentWillMount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={styles.Overlay} onClick={this.props.onClose} alt=\"\">\r\n        <div className={styles.Modal}>\r\n          <img src={this.props.imageModal} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport Searchbar from \"../Searchbar/Searchbar\";\r\nimport Button from \"../Button/Button\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport imagesApi from \"../../helpers/request\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n// import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    loader: true,\r\n    error: false,\r\n    searchQuery: \"\",\r\n    page: 1,\r\n    showModal: false,\r\n    imageModal: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ searchQuery: e.target.value });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.fetchImages(this.state.searchQuery);\r\n  };\r\n  // componentDidUpdate(prevProps, prevState) {\r\n  //   const { searchQuery, page } = this.state;\r\n  //   const prevQuery = prevState.searchQuery;\r\n  //   const nextQuery = this.state.searchQuery;\r\n  //   if (prevQuery !== nextQuery) {\r\n  //     this.fetchImages(nextQuery);\r\n  //     // if (prevQuery !== nextQuery || prevState.page !== page) {\r\n  //     //   this.fetchImages(nextQuery, page);\r\n  //   }\r\n  // }\r\n\r\n  fetchImagesLoadMore = () => {\r\n    let scrollHeight = 0;\r\n    if (this.state.page === 1) {\r\n      scrollHeight = 0;\r\n    } else {\r\n      scrollHeight = document.documentElement.scrollHeight - 144;\r\n    }\r\n    imagesApi\r\n      .fetchImagesWithQuery(this.state.searchQuery, this.state.page)\r\n      .then((images) =>\r\n        this.setState((prevState) => ({\r\n          images: [...prevState.images, ...images],\r\n          loader: false,\r\n          page: prevState.page + 1,\r\n        }))\r\n      )\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ loader: false }));\r\n    window.scrollTo({\r\n      top: scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  ///////////*** */\r\n\r\n  fetchImages = () => {\r\n    let scrollHeight = 0;\r\n    if (this.state.page === 1) {\r\n      scrollHeight = 0;\r\n    } else {\r\n      scrollHeight = document.documentElement.scrollHeight - 144;\r\n    }\r\n    imagesApi\r\n      .fetchImagesWithQuery(this.state.searchQuery, this.state.page)\r\n      .then((images) => this.setState({ images, page: 2 }))\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ loader: false }));\r\n    window.scrollTo({\r\n      top: scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  toggleModal = (largeImage) => {\r\n    this.setState((state) => ({\r\n      showModal: !state.showModal,\r\n      imageModal: largeImage,\r\n    }));\r\n  };\r\n\r\n  toggleModalClose = () => {\r\n    this.setState((state) => ({\r\n      showModal: !state.showModal,\r\n      imageModal: \"\",\r\n    }));\r\n  };\r\n  render() {\r\n    const {\r\n      images,\r\n      loader,\r\n      error,\r\n      showModal,\r\n      imageModal,\r\n      searchQuery,\r\n    } = this.state;\r\n    if (error) {\r\n      return <h1>Woops, something went wrong. Try again later!</h1>;\r\n    }\r\n    return (\r\n      <>\r\n        <Searchbar\r\n          handleChange={this.handleChange}\r\n          handleSubmit={this.handleSubmit}\r\n          searchQuery={searchQuery}\r\n        />\r\n        <ul className={styles.ImageGallery}>\r\n          {images.map((image) => (\r\n            <ImageGalleryItem\r\n              image={image}\r\n              toggleModalWin={this.toggleModal}\r\n              key={image.id}\r\n            />\r\n          ))}\r\n        </ul>\r\n\r\n        {!!images.length && <Button onSomething={this.fetchImagesLoadMore} />}\r\n        {showModal && (\r\n          <Modal imageModal={imageModal} onClose={this.toggleModalClose} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\nimport \"./App.css\";\n\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <ImageGallery />\n    </div>\n  );\n}\n\nexport default App;\n//  <Modal />;\n// import Modal from \"./Components/Modal/Modal\";\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__rbbpM\",\"SearchForm\":\"Searchbar_SearchForm__3vfUw\",\"SearchFormbutton\":\"Searchbar_SearchFormbutton__n0jTi\",\"SearchFormbuttonlabel\":\"Searchbar_SearchFormbuttonlabel__1gVu2\",\"SearchForminput\":\"Searchbar_SearchForminput__3C1tf\",\"SearchForm-input\":\"Searchbar_SearchForm-input__1cNjq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2VovE\",\"ImageGalleryItemimage\":\"ImageGalleryItem_ImageGalleryItemimage__3rjJh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2ElTG\",\"Modal\":\"Modal_Modal__3RgQ3\"};"],"sourceRoot":""}